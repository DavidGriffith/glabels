2003-12-30  Wayne Schuller  <k_wayne@linuxpower.org>

	Added feature: line spacing - allows you to comfortably space a text box to
	fit a label perfectly.

	* data/glabels-2.0.dtd:
	* src/label-object.c: (gl_label_object_set_text_line_spacing),
	(gl_label_object_get_text_alignment),
	(gl_label_object_get_text_line_spacing):
	* src/label-object.h:
	* src/label-text.c: (gl_label_text_class_init),
	(gl_label_text_instance_init), (copy), (get_size),
	(set_text_line_spacing), (get_text_alignment),
	(get_text_line_spacing):
	* src/object-editor-private.h:
	* src/object-editor-text-page.c:
	(gl_object_editor_prepare_text_page),
	(gl_object_editor_set_text_line_spacing),
	(gl_object_editor_get_text_line_spacing):
	* src/object-editor.glade:
	* src/object-editor.h:
	* src/prefs-dialog.c: (construct_object_page),
	(update_object_page_from_prefs), (update_prefs_from_object_page):
	* src/prefs-dialog.glade:
	* src/prefs-model.c: (gl_prefs_model_save_settings),
	(gl_prefs_model_load_settings), (get_float):
	* src/prefs-model.h:
	* src/print.c: (draw_text_object):
	* src/ui-sidebar.c:
	* src/view-text.c: (update_object_from_editor_cb),
	(update_editor_from_object_cb),
	(gl_view_text_create_event_handler), (draw_hacktext):
	* src/view.c: (gl_view_construct),
	(gl_view_set_selection_text_line_spacing),
	(gl_view_set_default_text_line_spacing),
	(gl_view_get_default_text_line_spacing):
	* src/view.h:
	* src/xml-label.c: (xml_parse_toplevel_span),
	(xml_create_toplevel_span):

2003-12-30  Jim Evins  <evins@snaught.com>

	* src/template-designer.c:
	* src/template-designer.h:
	* src/template-designer.glade:
		New template designer assistant.
	
	* po/POTFILES.in:
	* src/Makefile.am:
		Added entries for src/template-designer.* files.
	
	* pixmaps/ex-1layout.png
	* pixmaps/ex-2layouts.png
	* pixmaps/Makefile.am:
		Added the new image files ex-*.png used as illustrations in the
		template designer assistant.
	
	* src/print-dialog.h:
	* src/print-dialog.c: (gl_print_dialog_finalize),
	(gl_print_dialog_new), (gl_print_dialog_construct),
	(gl_print_dialog_force_outline_flag):
		Changed first argument of gl_print_dialog_new() from glView to glLabel,
		to support printing from the template designer assistant which does not
		have a full-fledged view.  Nothing else from the view object was being
		used by the dialog anyway.

		Added the gl_print_dialog_force_outline_flag() method, for better
		integration with the template designer assistant.
		

	* src/commands.h:
	* src/commands.c: (gl_cmd_file_template_designer),
	(gl_cmd_file_print):
		Modified print command to provide label instead of view to dialog.
		Added the gl_cmd_file_template_designer() command to invoke the
		template designer assistant.
	
	* src/ui.c:
	* src/glabels-ui.xml:
		Added support for template designer assistant.
	
	* src/wdgt-mini-preview.h:
	* src/wdgt-mini-preview.c: (gl_wdgt_mini_preview_set_template),
	(gl_wdgt_mini_preview_set_bg_color):
		Preview is now centered in canvas.  Added
		gl_wdgt_mini_preview_set_bg_color() to allow the template designer
		assistant to match the background color with its own.
	
	* src/print.c: (clip_to_outline):
		Fixed really stupid bug when adding waste to clip region of rectangular
		labels/cards.  Each side of the clip region needs to be extended by
		twice the waste margin, as well as negatively offset by the waste
		margin.

2003-12-28  Jim Evins  <evins@snaught.com>

	* src/prefs-dialog.c: (update_object_page_from_prefs):
		Block intermediary function align_toggle_cb() instead of
		update_prefs_from_object_page() for the three alignment
		widgets.

2003-12-28  Wayne Schuller  <k_wayne@linuxpower.org>

	* src/file.c: (gl_file_new), (gl_file_properties):
		Swap button order and set default for higificatory pleasure.

2003-12-27  Jim Evins  <evins@snaught.com>

	* barcode-0.98/Makefile.am:
		One last time:  removed doc/Makefile and po/Makefile.in.in from
		EXTRA_DIST files.
	
2003-12-27  Jim Evins  <evins@snaught.com>

	* barcode-0.98/Makefile.am:
		Removed config.stat entry from EXTRA_DIST files.
	
	* barcode-0.98/Makefile.in:
		Removed.

2003-12-27  Jim Evins  <evins@snaught.com>

	* configure.in:
		Updated to work with latest gnome-common package from CVS.
		Removed recursive configuration of barcode-0.98.

	* acconfig.h:
	* macros/*:
		Removed.
	
	* Makefile.am:
		Added barcode-0.98/ as a SUBDIR, and removed dist-hook.
	
	* barcode-0.98/Makefile.in:
	* barcode-0.98/configure.in:
	* barcode-0.98/Makefile.am:
	* barcode-0.98/README.glabels:
		Modified to ignore the barcode package's build system, and build
		as a part of glabels.
		Renamed Makefile.in to Makefile.in.dist.
		Renamed configure.in to configure.in.dist.
		Added barcode-0.98/Makefile.am and barcode-0.98/README.glabels.
	
	* src/Makefile.am:
	* src/mygal/Makefile.am:
	* src/recent-files/Makefile.am:
		In order to build against the GNOME 2.5 platform, 
		all use of *_DISABLE_DEPRECATED compile-time flags has been removed.
	
	* src/mygal/Makefile.am:
	* src/mygal/mygal-combo-box.c:
	* src/mygal/mygal-combo-box.h:
	* src/mygal/widget-color-combo.c:
	* src/mygal/widget-color-combo.h:
	* po/POTFILES.in:
		In order to build against the GNOME 2.5 platform, 
		Renamed gtk_combo_box widget to mygal_combo_box, to prevent namespace
		collisions with the real gtk_combo_box widget, now a part of gtk.
	
2003-12-26  Jim Evins  <evins@snaught.com>

	* src/paper.c:
	* src/template.c:
	* src/util.c:
	* src/util.h:
		Moved local versions of get_home_data_dir() in paper.c and
		template.c to util package.  Cleaned up formatting in
		util.[ch].

	* src/template.c:
		In gl_template_register() save a copy of the template in
		~/.glabels if the template is not known.  Still need to
		handle duplicate filename case and duplicate name but
		different template case.
	
	* src/xml-label.c:
	* src/xml.h:
		Moved local definition of NAME_SPACE macro from xml-label.c
		to xml.h.
	
	* src/xml-template.c:
	* src/xml-template.h:
		Added function gl_xml_template_write_template_to_file(), used
		in gl_template_register().

	
